# 定时器驱动实验

本实验实现了一个使用定时器、Tasklet和工作队列的驱动程序。

## 实验要求

1. 定义一个Tasklet和一个工作队列，实现打印输出
2. 定义两个定时器，周期分别为T1和T2
3. T1周期到时调度Tasklet，T2周期到时调度工作队列
4. 在加载驱动模块时注册Tasklet和工作队列
5. 在卸载驱动模块时销毁Tasklet和工作队列

## 文件结构

- `timer_driver.c`: 定时器驱动程序
- `Makefile`: 用于编译和安装

## 工作原理

- 当驱动加载时，初始化并启动两个定时器、一个Tasklet和一个工作队列
- T1定时器（3秒周期）到期时，调度Tasklet执行
- T2定时器（5秒周期）到期时，调度工作队列执行
- 驱动卸载时，停止定时器并清理所有资源

## 编译方法

编译驱动程序：

```
make
```

## 安装和卸载

安装驱动程序（需要root权限）：

```
sudo make install
```

卸载驱动程序（需要root权限）：

```
sudo make uninstall
```

## 测试方法

自动测试（加载、等待、查看日志、卸载）：

```
sudo make test
```

手动查看内核日志：

```
sudo dmesg | grep timer_driver
```

## 预期输出

加载模块后，您应该会在内核日志中看到定时器、Tasklet和工作队列的执行日志。
每3秒会有一个Tasklet执行的日志，每5秒会有一个工作队列执行的日志。 